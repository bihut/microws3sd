<html>
<head></head>

<!-- https://modelviewer.dev/-->
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<model-viewer animation-name="" autoplay id="model-viewer" alt="" src="" ar ar-modes="webxr scene-viewer " seamless-poster shadow-intensity="1" camera-controls style="width:400px; height:400px" ></model-viewer>
<script>
    var getUrlParameter = function getUrlParameter(sParam) {
        var sPageURL = window.location.search.substring(1),
            sURLVariables = sPageURL.split('&'),
            sParameterName,
            i;

        for (i = 0; i < sURLVariables.length; i++) {
            sParameterName = sURLVariables[i].split('=');

            if (sParameterName[0] === sParam) {
                return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
            }
        }
        return false;
    };
    //window.onload = loadModel;
    function loadModel(){
        var model = getUrlParameter('model');
        //http://192.168.1.33:5001/static/tempavatars/temp_character1_1644406074.fbx.glb
        //document.getElementById("model-viewer").src = "tempavatars/"+model;
        $("#model-viewer").attr("src","tempavatars/"+model);
        var animation = getUrlParameter('animation');

        if(animation!=null) {
            $("#model-viewer").attr("animation-name",animation);
            //document.getElementById("model-viewer")['animation-name'] = animation;
        }
    }
    loadModel();
    $(document).ready(function(){
   // do jQuery
    })
</script>
</html>